
import requests
import csv
import time


def sync_teacher():
    teacherIdList = read_csv()


    idCount = len(teacherIdList)
    print("老师个数:{}".format(idCount))

    totalSuccess = 0
    totalFailed = 0

    sfzList = []
    xuekeList = []
    jspyList = []
    xingbieList = []
    notfoundList = []
    other = []

    # 50一组
    chunkTeacherIdList = array_chunk(teacherIdList, 50)

    for chunkTeacherId in chunkTeacherIdList:
        successNum = 0
        failedNum = 0
        teacherIds = ",".join(teacherIdList)
        try:
            # res = ""
            data = {
                'teacher_id': teacherIds,
            }

            response = requests.post('https://teacherv2api.inner.xiwang.com/Teachersync/Basic/syncDivision', data=data)

            res = response.json()
            response.close()

            for index, value in enumerate(res['data']):
                value['teacherId'] = chunkTeacherId[index]

                if "学科非法" in value['msg']:
                    xuekeList.append(value['teacherId'])
                    continue

                if "教师拼音" in value['msg']:
                    jspyList.append(value['teacherId'])
                    continue

                if "身份证" in value['msg']:
                    sfzList.append(value['teacherId'])
                    continue

                if "性别" in value['msg']:
                    xingbieList.append(value['teacherId'])
                    continue

                if "不存在" in value['msg']:
                    notfoundList.append(value['teacherId'])
                    continue

                other.append(value['teacherId'])

        except Exception as e:
            res = "参数:{}, err:{}".format(teacherIds, e)
            print(res)

        time.sleep(0.01)

        totalSuccess += successNum
        totalFailed += failedNum

        print("进度：{}/{}".format(totalSuccess + totalFailed, idCount))

    print("身份证问题：",sfzList)
    print("学科非法问题：",xuekeList)
    print("教师拼音问题：",jspyList)
    print("性别非法问题：",xingbieList)
    print("教师不存在：",notfoundList)
    print("其他：",other)

    print("同步老师个数:{}, 成功数:{}, 失败数:{}".format(idCount, totalSuccess, totalFailed))


def main():
    # freezedList = [1301950,1301948]
    # teacherIdList = [1301946,1301943,1301942,1301861,1301860,1301850,1301849,1301848,1301847,1301846,1301845,1301844,1301843,1301842,1301841,1301840,1301839,1301838,1301837,1301836,1301835,1301834,1301833,1301832,1301831,1301769,1301768,1301767,1301765,1301764,1301763,1301761,1301760,1301759,1301758,1301756,1301755,1301752,1301751,1301750,1301739,1301738,1301737,1301736,1301735,1301734,1301733,1301732,1301731,1301730,1301729,1301728,1301727,1301726,1301725,1301724,1301723,1301722,1301721,1301720,1301719,1301718,1301717,1301716,1301715,1301714,1301703,1301702,1301701,1301700,1301699,1301698,1301697,1301688,1301687,1301686,1301685,1301684,1301683,1301682,1301681,1301680,1301656,1301655,1301654,1301653,1301652,1301649,1301648,1301647,1301645,1301644,1301643,1301642,1301641,1301640,1301639,1301638,1301637,1301636,1301635,1301634,1301633,1301632,1301631,1301630,1301629,1301628,1301627,1301626,1301625,1301624,1301623,1301622,1301620,1301619,1301618,1301617,1301616,1301615,1301614,1301613,1301612,1301611,1301610,1301609,1301608,1301607,1301606,1301605,1301603,1301602,1301601,1301600,1301599,1301597,1301596,1301595,1301594,1301593,1301592,1301591,1301590,1301589,1301588,1301587,1301586,1301585,1301584,1301583,1301582,1301581,1301580,1301579,1301578,1301577,1301576,1301575,1301574,1301573,1301572,1301571,1301570,1301569,1301568,1301567,1301566,1301565,1301564,1301562,1301561,1301560,1301559,1301558,1301557,1301550,1301549,1301535,1301534,1301533,1301532,1301489,1301488,1301487,1301486,1301485,1301484,1301483,1301482,1301481,1301480,1301479,1301478,1301477,1301475,1301474,1301473,1301471,1301470,1301469,1301468,1301467,1301466,1301465,1301464,1301463,1301462,1301460,1301459,1301458,1301456,1301454,1301453,1301452,1301451,1301449,1301446,1301445,1301444,1301442,1301441,1301439,1301438,1301437,1301436,1301435,1301434,1301433,1301432,1301431,1301430,1301429,1301420,1301419,1301412,1301411,1301410,1301409,1301408,1301407,1301406,1301405,1301404,1301403,1301402,1301401,1301400,1301399,1301397,1301396,1301395,1301394,1301393,1301392,1301391,1301390,1301389,1301388,1301387,1301386,1301385,1301384,1301383,1301382,1301381,1301380,1301379,1301378,1301377,1301376,1301375,1301373,1301371,1301370,1301369,1301368,1301367,1301366,1301365,1301364,1301363,1301362,1301361,1301360,1301359,1301358,1301357,1301356,1301299,1301298,1301297,1301296,1301295,1301294,1301293,1301292,1301291,1301290,1301289,1301287,1301286,1301285,1301284,1301283,1301282,1301281,1301280,1301279,1301278,1301277,1301276,1301275,1301274,1301273,1301272,1301271,1301270,1301269,1301268,1301267,1301266,1301265,1301264,1301263,1301262,1301261,1301260,1301259,1301258,1301257,1301256,1301255,1301254,1301253,1301252,1301251,1301250,1301249,1301248,1301247,1301246,1301245,1301244,1301243,1301242,1301241,1301240,1301239,1301238,1301237,1301236,1301235,1301234,1301233,1301232,1301231,1301230,1301229,1301228,1301227,1301226,1301225,1301224,1301223,1301222,1301221,1301220,1301218,1301217,1301216,1301215,1301214,1301213,1301212,1301211,1301210,1301209,1301208,1301207,1301206,1301205,1301204,1301201,1301200,1301199,1301198,1301197,1301196,1301195,1301194,1301193,1301189,1301188,1301186,1301185,1301184,1301183,1301182,1301181,1301180,1301179,1301178,1301177,1301176,1301175,1301158,1301157,1301156,1301155,1301154,1301153,1301152,1301151,1301150,1301149,1301148,1301147,1301146,1301145,1301144,1301143,1301142,1301141,1301140,1301139,1301138,1301137,1301136,1301135,1301134,1301133,1301132,1301131,1301130,1301129,1301127,1301126,1301125,1301124,1301123,1301122,1301121,1301120,1301119,1301118,1301117,1301116,1301115,1301114,1301113,1301112,1301111,1301110,1301109,1301104,1301103,1301102,1301096,1301095,1301094,1301093,1301092,1301091,1301090,1301089,1301088,1301087,1301086,1301085,1301084,1301083,1301082,1301081,1301080,1301079,1301078,1301077,1301076,1301075,1301074,1301064,1301063,1301062,1301061,1301045,1301044,1301043,1301042,1301041,1301040,1301039,1301038,1301037,1301036,1301035,1301034,1301033,1301032,1301031,1301030,1301029,1301028,1301027,1301026,1301025,1301024,1301023,1301022,1301021,1301020,1301019,1301018,1301017,1301016,1301015,1301014,1301012,1301011,1301010,1301009,1301008,1301007,1301006,1301005,1301004,1301003,1301002,1301001,1301000,1300999,1300998,1300997,1300996,1300993,1300992,1300976,1300975,1300974,1300973,1300972,1300971,1300970,1300969,1300968,1300967,1300966,1300965,1300964,1300963,1300962,1300961,1300960,1300959,1300952,1300949,1300942,1300938,1300937,1300936,1300935,1300934,1300933,1300932,1300931,1300930,1300929,1300928,1300927,1300926,1300925,1300924,1300923,1300922,1300921,1300920,1300919,1300918,1300917,1300916,1300915,1300914,1300913,1300912,1300911,1300910,1300909,1300908,1300906,1300905,1300904,1300903,1300902,1300901,1300900,1300899,1300895,1300894,1300892,1300891,1300890,1300889,1300888,1300886,1300885,1300884,1300883,1300882,1300881,1300880,1300879,1300878,1300876,1300873,1300872,1300871,1300870,1300869,1300868,1300830,1300829,1300828,1300827,1300825,1300824,1300823,1300822,1300820,1300818,1300817,1300816,1300815,1300814,1300813,1300812,1300811,1300810,1300809,1300808,1300799,1300798,1300780,1300776,1300775,1300774,1300773,1300772,1300770,1300769,1300768,1300765,1300764,1300754,1300753,1300726,1300725,1300724,1300723,1300722,1300721,1300720,1300718,1300717,1300716,1300715,1300714,1300713,1300712,1300711,1300710,1300709,1300708,1300707,1300706,1300705,1300703,1300702,1300701,1300700,1300699,1300698,1300697,1300696,1300695,1300694,1300693,1300692,1300691,1300690,1300689,1300688,1300687,1300686,1300685,1300684,1300683,1300682,1300681,1300680,1300679,1300678,1300677,1300676,1300675,1300674,1300673,1300647,1300646,1300644,1300642,1300641,1300640,1300639,1300638,1300637,1300636,1300576,1300575,1300574,1300573,1300572,1300571,1300570,1300569,1300568,1300567,1300566,1300565,1300564,1300563,1300562,1300561,1300560,1300559,1300558,1300557,1300556,1300555,1300554,1300553,1300552,1300551,1300545,1300486,1300485,1300484,1300483,1300482,1300481,1300479,1300477,1300476,1300471,1300470,1300468,1300467,1300466,1300465,1300464,1300463,1300462,1300461,1300460,1300459,1300458,1300457,1300456,1300454,1300453,1300452,1300451,1300450,1300449,1300448,1300446,1300445,1300443,1300442,1300441,1300440,1300438,1300437,1300436,1300435,1300432,1300431,1300430,1300427,1300426,1300425,1300366,1300322,1300321,1300320,1300319,1300318,1300317,1300316,1300315,1300314,1300313,1300312,1300311,1300310,1300309,1300308,1300307,1300306,1300305,1300304,1300303,1300302,1300301,1300300,1300299,1300298,1300297,1300296,1300295,1300294,1300293,1300292,1300291,1300290,1300289,1300288,1300287,1300286,1300285,1300284,1300283,1300264,1300229,1300210,1300209,1300208,1300207,1300206,1300205,1300204,1300203,1300202,1300201,1300200,1300199,1300198,1300197,1300196,1300195,1300194,1300193,1300192,1300191,1300190,1300189,1300188,1300156,1300155,1300154,1300153,1300152,1300151,1300150,1300149,1300146,1300145,1300144,1300141,1300140,1300136,1300133,1300132,1300130,1300129,1300125,1300121,1300118,1300116,1300115,1300112,1300109,1300107,1300100,1300098,1300097,1300096,1300094,1300093,1300092,1300091,1300085,1300063,1300059,1300037,1300034,1096368,1096367,1096366,1096365,1096364,1096363,1096362,1096361,1096360,1096356,1096355,1096354,1096353,1096352,1096351,1096350,1096348,1096347,1096343,1096341,1096340,1096339,1096338,1096336,1096335,1096333,1096332,1096331,1096330,1096329,1096328,1096327,1096326,1096325,1096324,1096323,1096322,1096321,1096320,1096318,1096299,1096277,1096276,1096275,1096274,1096273,1096272,1096271,1096270,1096269,1096268,1096267,1096266,1096265,1096264,1096263,1096262,1096260,1096259,1096258,1096257,1096255,1096254,1096253,1096251,1096250,1096249,1096248,1096247,1096246,1096245,1096243,1096242,1096241,1096240,1096239,1096238,1096237,1096236,1096235,1096233,1096231,1096229,1096228,1096227,1096226,1096225,1096224,1096223,1096222,1096221,1096220,1096218,1096216,1096215,1096213,1096211,1096210,1096208,1096206,1096204,1096202,1096201,1096197,1096176,1096164,1096157,1096146,1096145,1096144,1096143,1096088,1096079,1096076,1096075,1096074,1096073,1096072,1096070,1096069,1096068,1096067,1096066,1096065,1096064,1096063,1096062,1096061,1096060,1096058,1096057,1096050,1095996,1095948,1095943,1095942,1095939,1095938,1095937,1095936,1095935,1095934,1095929,1095928,1095923,1095921,1095920,1095917,1095916,1095915,1095913,1095911,1095910,1095909,1095903,1095900,1095897,1095895,1095893,1095892,1095891,1095889,1095888,1095887,1095881,1095880,1095879,1095876,1095862,1095820,1095814,1095811,1095810,1095791,1095790,1095789,1095788,1095787,1095786,1095785,1095784,1095783,1095782,1095781,1095780,1095779,1095778,1095777,1095753,1095751,1095750,1095749,1095747,1095743,1095742,1095741,1095740,1095707,1095706,1095703,1095702,1095701,1095700,1095699,1095698,1095697,1095694,1095687,1095686,1095685,1095684,1095683,1095682,1095681,1095680,1095679,1095678,1095677,1095676,1095675,1095674,1095673,1095658,1095657,1095655,1095651,1095648,1095644,1095625,1095624,1095614,1095612,1095610,1095604,1095600,1095598,1095596,1095594,1095593,1095592,1095589,1095587,1095583,1095581,1095578,1095577,1095576,1095575,1095566,1095563,1095562,1095561,1095560,1095559,1095558,1095557,1095550,1095545,1095544,1095543,1095542,1095537,1095536,1095532,1095530,1095528,1095524,1095523,1095522,1095520,1095519,1095518,1095516,1095513,1095512,1095479,1095478,1095477,1095476,1095475,1095447,1095443,1095438,1095435,1095430,1095427,1095425,1095424,1095423,1095420,1095417,1095414,1095412,1095410,1095407,1095406,1095405,1095404,1095402,1095401,1095359,1095355,1095354,1095353,1095352,1095351,1095350,1095349,1095348,1095347,1095346,1095345,1095344,1095343,1095324,1095321,1095320,1095316,1095314,1095311,1095310,1095309,1095307,1095305,1095304,1095303,1095302,1095296,1095295,1095263,1095262,1095261,1095260,1095259,1095258,1095257,1095221,1095214,1095210,1095209,1095205,1095204,1095197,1095196,1095195,1095194,1095191,1095185,1095184,1095183,1095131,1095129,1095128,1095122,1095117,1095116,1095113,1095112,1095110,1095105,1095103,1095101,1095100,1095072,1095068,1095067,1095061,1095054,1095017,1095016,1095015,1095014,1095011,1095006,1095004,1095002,1095001,1095000,1094998,1094997,1094996,1094995,1094992,1094989,1094988,1094987,1094986,1094978,1094976,1094974,1094970,1094969,1094968,1094967,1094966,1094965,1094964,1094963,1094962,1094961,1094960,1094938,1094935,1094933,1094930,1094928,1094920,1094919,1094916,1094915,1094911,1094907,1094902,1094891,1094889,1094880,1094879,1094877,1094874,1094873,1094872,1094868,1094866,1094864,1094862,1094861,1094860,1094858,1094857,1094855,1094853,1094852,1094849,1094848,1094774,1094772,1094765,1094760,1094756,1094755,1094754,1094753,1094751,1094749,1094746,1094745,1094744,1094741,1094738,1094736,1094735,1094730,1094729,1094727,1094713,1094712,1094711,1094710,1094709,1094708,1094707,1094706,1094705,1094704,1094686,1094685,1094684,1094683,1094680,1094679,1094678,1094673,1094670,1094669,1094661,1094659,1094657,1094656,1094654,1094653,1094652,1094650,1094648,1094643,1094642,1094639,1094636,1094634,1094633,1094632,1094631,1094629,1094628,1094575,1094574,1094573,1094572,1094571,1094570,1094569,1094568,1094540,1094538,1094537,1094534,1094533,1094532,1094530,1094528,1094526,1094524,1094523,1094522,1094521,1094494,1094493,1094492,1094491,1094490,1094489,1094488,1094487,1094486,1094481,1094478,1094477,1094473,1094472,1094471,1094469,1094468,1094466,1094465,1094464,1094463,1094462,1094461,1094456,1094451,1094448,1094429,1094428,1094427,1094408,1094405,1094403,1094400,1094399,1094398,1094396,1094395,1094394,1094361,1094360,1094359,1094358,1094357,1094356,1094353,1094352,1094351,1094341,1094340,1094335,1094334,1094309,1094308,1094307,1094306,1094305,1094304,1094286,1094284,1094279,1094278,1094273,1094270,1094257,1094256,1094255,1094254,1094251,1094250,1094249,1094248,1094246,1094245,1094230,1094228,1094211,1094210,1094209,1094208,1094207,1094206,1094205,1094203,1094202,1094201,1094200,1094199,1094198,1094184,1094182,1094180,1094176,1094175,1094172,1094171,1094169,1094167,1094166,1094159,1094156,1094154,1094153,1094152,1094150,1094148,1094147,1094146,1094143,1094119,1094103,1094084,1094083,1094082,1094081,1094080,1094079,1094078,1094077,1094076,1094075,1094074,1094073,1094072,1094071,1094070,1094069,1094068,1094052,1094048,1094047,1094045,1094044,1094042,1094039,1094038,1094031,1094030,1094029,1094028,1094024,1094023,1094020,1094019,1094018,1094015,1094011,1094009,1094007,1093981,1093964,1093959,1093956,1093955,1093951,1093950,1093949,1093941,1093939,1093938,1093937,1093936,1093935,1093934,1093933,1093932,1093931,1093930,1093916,1093915,1093910,1093907,1093901,1093896,1093893,1093892,1093891,1093890,1093889,1093878,1093877,1093876,1093875,1093874,1093873,1093872,1093871,1093870,1093869,1093868,1093867,1093866,1093865,1093848,1093847,1093846,1093828,1093817,1093813,1093811,1093807,1093805,1093794,1093792,1093791,1093790,1093789,1093787,1093786,1093785,1093784,1093783,1093782,1093781,1093780,1093779,1093778,1093777,1093776,1093775,1093774,1093773,1093772,1093759,1093758,1093746,1093744,1093740,1093739,1093737,1093735,1093734,1093732,1093731,1093730,1093729,1093728,1093727,1093726,1093725,1093724,1093723,1093722,1093721,1093720,1093719,1093718,1093717,1093716,1093715,1093714,1093713,1093712,1093711,1093710,1093709,1093703,1093702,1093695,1093691,1093687,1093684,1093683,1093682,1093681,1093680,1093679,1093677,1093676,1093671,1093664,1093647,1093641,1093639,1093637,1093636,1093633,1093631,1093622,1093621,1093620,1093619,1093617,1093616,1093615,1093614,1093611,1093609,1093606,1093605,1093603,1093602,1093600,1093598,1093597,1093596,1093595,1093591,1093590,1093581,1093558,1093556,1093555,1093554,1093553,1093552,1093519,1093518,1093516,1093515,1093510,1093508,1093507,1093498,1093497,1093452,1093437,1093434,1093432,1093430,1093427,1093419,1093380,1093379,1093375,1093373,1093370,1093369,1093368,1093366,1093365,1093359,1093358,1093357,1093356,1093352,1093350,1093349,1093348,1093326,1093285,1093282,1093279,1093278,1093275,1093273,1093272,1093213,1093212,1093209,1093208,1093207,1093206,1093204,1093201,1093199,1093170,1093159,1093158,1093154,1093153,1093149,1093145,1093143,1093142,1093141,1093139,1093137,1093136,1093135,1093132,1093131,1093129,1093128,1093126,1093125,1093121,1093119,1093118,1093116,1093113,1093112,1093108,1093107,1093106,1093103,1093102,1093101,1093098,1093096,1093095,1093094,1093093,1093092,1093090,1093087,1093085,1093084,1093044,1093040,1093039,1093038,1093035,1093033,1093032,1093021,1093018,1093017,1093016,1093015,1093014,1093012,1092996,1092994,1092983,1092977,1092955,1092944,1092937,1092930,1092928,1092925,1092924,1092920,1092919,1092917,1092912,1092911,1092910,1092905,1092904,1092903,1092902,1092900,1092897,1092891,1092876,1092874,1092870,1092867,1092866,1092865,1092864,1092860,1092859,1092857,1092856,1092855,1092854,1092853,1092852,1092850,1092849,1092819,1092818,1092816,1092815,1092814,1092812,1092811,1092810,1092809,1092808,1092807,1092806,1092803,1092801,1092799,1092797,1092796,1092779,1092776,1092775,1092772,1092767,1092765,1092764,1092763,1092762,1092761,1092758,1092757,1092752,1092751,1092747,1092735,1092734,1092732,1092722,1092720,1092716,1092714,1092713,1092711,1092710,1092709,1092704,1092703,1092702,1092701,1092700,1092697,1092694,1092690,1092684,1092676,1092674,1092673,1092670,1092669,1092668,1092660,1092653,1092629,1092627,1092626,1092611,1092610,1092597,1092593,1092585,1092579,1092576,1092567,1092563,1092559,1092558,1092556,1092555,1092488,1092463,1092462,1092460,1092426,1092425,1092421,1092420,1092419,1092418,1092416,1092415,1092414,1092413,1092406,1092382,1092381,1092380,1092379,1092378,1092374,1092373,1092371,1092347,1092344,1092343,1092293,1092292,1092288,1092287,1092284,1092282,1092275,1092272,1092268,1092236,1092235,1092234,1092232,1092230,1092229,1092228,1092227,1092226,1092225,1092224,1092223,1092222,1092190,1092188,1092184,1092179,1092178,1092177,1092175,1092173,1092171,1092168,1092166,1092163,1092162,1092155,1092153,1092118,1092116,1092114,1092113,1092112,1092110,1092109,1092105,1092104,1092103,1092101,1092100,1092099,1092098,1092097,1092095,1092093,1092092,1092091,1092090,1092086,1092085,1092084,1092083,1092081,1092080,1092079,1092077,1092076,1092075,1092074,1092073,1092072,1092071,1092070,1092047,1092044,1092041,1092040,1092039,1092038,1092037,1092036,1092035,1092007,1092005,1092004,1092003,1091968,1091960,1091959,1091956,1091951,1091950,1091949,1091946,1091943,1091942,1091939,1091926,1091925,1091924,1091921,1091908,1091907,1091906,1091903,1091900,1091895,1091892,1091877,1091684,1091683,1091682,1091680,1091678,1091672,1091670,1091668,1091667,1091663,1091655,1091649,1091639,1091636,1091629,1091627,1091620,1091610,1091606,1091600,1091598,1091596,1091594,1091587,1091586,1091585,1091548,1091545,1091544,1091543,1091542,1091534,1091531,1091529,1091528,1091527,1091520,1091518,1091517,1091516,1091513,1091512,1091508,1091507,1091505,1091501,1091499,1091498,1091497,1091493,1091476,1091444,1091443,1091439,1091433,1091430,1091429,1091427,1091425,1091421,1091392,1091390,1091388,1091387,1091385,1091384,1091383,1091374,1091373,1091372,1091369,1091368,1091367,1091365,1091364,1091354,1091350,1091349,1091347,1091340,1091339,1091337,1091336,1091335,1091334,1091329,1091328,1091327,1091326,1091323,1091322,1091321,1091318,1091317,1091313,1091312,1091310,1091309,1091306,1091302,1091300,1091293,1091292,1091290,1091270,1091259,1091258,1091253,1091248,1091247,1091244,1091239,1091231,1091229,1091227,1091224,1091223,1091221,1091220,1091219,1091218,1091217,1091215,1091213,1091212,1091210,1091209,1091207,1091205,1091204,1091198,1091162,1091157,1091156,1091155,1091140,1091139,1091138,1091137,1091135,1091133,1091131,1091128,1091122,1091120,1091119,1091116,1091115,1091113,1091112,1091111,1091107,1091105,1091069,1091068,1091066,1091064,1091058,1091045,1091044,1091042,1091041,1091040,1091039,1091037,1091036,1091035,1091033,1091031,1091022,1091018,1091017,1091016,1091014,1091012,1091011,1091003,1091002,1090993,1090992,1090991,1090983,1090981,1090976,1090974,1090971,1090969,1090968,1090967,1090966,1090961,1090958,1090957,1090955,1090954,1090953,1090952,1090951,1090950,1090948,1090947,1090944,1090943,1090942,1090941,1090940,1090933,1090932,1090929,1090927,1090905,1090900,1090898,1090896,1090895,1090874,1090873,1090872,1090871,1090866,1090864,1090863,1090862,1090860,1090859,1090852,1090851,1090849,1090712,1090676,1090669,1090668,1090667,1090665,1090656,1090639,1090636,1090632,1090601,1090596,1090594,1090592,1090589,1090573,1090572,1090571,1090570,1090569,1090568,1090567,1090566,1090565,1090562,1090560,1090559,1090549,1090541,1090527,1090526,1090524,1090518,1090516,1090515,1090513,1090512,1090511,1090510,1090508,1090465,1090463,1090462,1090459,1090455,1090453,1090451,1090448,1090445,1090444,1090442,1090441,1090440,1090438,1090433,1090432,1090404,1090402,1090400,1090393,1090391,1090390,1090389,1090384,1090377,1090376,1090353,1090352,1090351,1090349,1090348,1090347,1090346,1090342,1090338,1090332,1090331,1090329,1090323,1090322,1090321,1090320,1090319,1090315,1090314,1090313,1090312,1090311,1090310,1090309,1090270,1090269,1090268,1090267,1090266,1090265,1090263,1090262,1090261,1090260,1090259,1090257,1090256,1090254,1090253,1090246,1090245,1090243,1090242,1090241,1090238,1090237,1090234,1090233,1090230,1090228,1090226,1090200,1090199,1090198,1090190,1090186,1090183,1090182,1090160,1090156,1090154,1090150,1090140,1090133,1090119,1090114,1090112,1090107,1090106,1090105,1090104,1090103,1090101,1090099,1090098,1090096,1090086,1090053,1090048,1090045,1090044,1090041,1090037,1090021,1089992,1089989,1089987,1089985,1089975,1089966,1089947,1089946,1089943,1089942,1089938,1089934,1089933,1089928,1089923,1089922,1089920,1089918,1089913,1089912,1089911,1089910,1089908,1089907,1089906,1089903,1089902,1089898,1089896,1089894,1089889,1089886,1089883,1089878,1089876,1089874,1089871,1089863,1089859,1089857,1089855,1089854,1089853,1089852,1089851,1089849,1089848,1089847,1089845,1089844,1089843,1089839,1089837,1089836,1089832,1089831,1089830,1089828,1089827,1089825,1089823,1089821,1089818,1089811,1089799,1089796,1089793,1089792,1089791,1089789,1089756,1089746,1089743,1089735,1089725,1089718,1089714,1089713,1089709,1089708,1089703,1089702,1089698,1089696,1089685,1089681,1089680,1089678,1089677,1089674,1089673,1089671,1089668,1089660,1089648,1089645,1089644,1089643,1089627,1089625,1089624,1089621,1089619,1089618,1089615,1089611,1089609,1089608,1089607,1089606,1089602,1089594,1089590,1089589,1089588,1089580,1089575,1089573,1089561,1089541,1089540,1089539,1089536,1089535,1089533,1089530,1089529,1089526,1089524,1089517,1089499,1089490,1089485,1089484,1089483,1089479,1089476,1089460,1089454,1089451,1089447,1089425,1089424,1089423,1089422,1089418,1089382,1089379,1089342,1089341,1089340,1089339,1089332,1089331,1089330,89233,88906,88503,87637,87525,87513,86680,86572,86571,86570,86569,86561,86558,86556,86552,86536,86530,86528,86524,86510,86490,86489,86481,86477,86474,86473,86472,86471,86468,86460,86454,86448,86440,86437,86425,86421,86418,86416,86415,86411,86410,86408,86407,86403,86400,86399,86397,86394,86393,86389,86388,86382,86379,86375,86373,86371,86370,86369,86368,86367,86364,86362,86360,86358,86352,86347,86341,86339,86338,86337,86336,86335,86331,86328,86326,86311,86305,86303,86302,86300,86299,86298,86297,86292,86285,86283,86282,86279,86278,86277,86275,86273,86271,86270,86269,86266,86263,86257,86248,86246,86244,86242,86224,86221,86218,86216,86215,86214,86212,86203,86196,86194,86193,86192,86187,86184,86181,86180,86178,86167,86163,86159,86158,86155,86153,86151,86150,86149,86148,86147,86146,86141,86126,86124,86118,86116,86115,86104,86096,86095,86094,86093,86092,86087,86085,86083,86078,86076,86075,86052,86046,86044,86038,86034,86033,86029,86027,86026,86025,86024,86023,86022,86019,86018,86014,86011,86010,86009,85987,85985,85984,85978,85976,85974,85972,85966,85965,85947,85946,85945,85941,85939,85938,85937,85935,85932,85928,85926,85924,85922,85920,85913,85911,85910,85909,85906,85905,85901,85900,85897,85896,85894,85893,85888,85887,85886,85885,85882,85878,85876,85871,85868,85863,85860,85857,85855,85853,85850,85840,85837,85833,85832,85831,85830,85829,85828,85826,85823,85821,85818,85815,85811,85810,85809,85801,85795,85794,85788,85787,85786,85784,85777,85768,85766,85765,85764,85762,85761,85755,85753,85752,85751,85747,85745,85744,85738,85729,85723,85720,85719,85718,85714,85710,85707,85706,85705,85701,85700,85699,85687,85686,85682,85678,85676,85674,85671,85670,85666,85664,85661,85660,85658,85657,85647,85644,85642,85640,85639,85636,85634,85633,85631,85629,85625,85624,85620,85617,85613,85612,85611,85610,85609,85600,85599,85598,85596,85593,85590,85589,85585,85584,85573,85571,85567,85565,85564,85563,85561,85560,85559,85554,85553,85552,85550,85547,85546,85545,85544,85543,85538,85537,85534,85530,85529,85526,85525,85520,85515,85514,85512,85511,85510,85506,85503,85501,85500,85499,85498,85496,85494,85493,85489,85488,85487,85486,85485,85484,85479,85476,85474,85472,85469,85468,85467,85459,85458,85456,85455,85453,85452,85450,85449,85448,85447,85446,85444,85442,85441,85439,85438,85433,85429,85427,85426,85419,85414,85406,85397,85395,85394,85384,85375,85374,85373,85367,85361,85355,85354,85352,85351,85350,85349,85348,85342,85341,85340,85337,85335,85334,85333,85331,85330,85328,85325,85324,85320,85310,85299,85298,85292,85291,85287,85283,85281,85280,85278,85277,85276,85271,85270,85268,85267,85266,85265,85262,85246,85242,85233,85232,85230,85229,85226,85224,85219,85218,85217,85216,85208,85195,85194,85193,85191,85190,85189,85188,85186,85182,85181,85178,85176,85175,85174,85171,85170,85169,85168,85167,85166,85163,85161,85160,85159,85157,85156,85155,85150,85147,85146,85141,85139,85136,85134,85131,85129,85128,85125,85122,85120,85116,85109,85107,85103,85102,85100,85099,85095,85093,85092,85091,85090,85089,85086,85085,85084,85082,85079,85074,85070,85066,85059,85058,85053,85051,85050,85049,85046,85045,85043,85042,85041,85038,85037,85035,85033,85029,85027,85025,85024,85022,85021,85011,85010,85009,85008,85007,85005,85004,85003,85001,84999,84998,84997,84996,84992,84991,84987,84985,84984,84983,84979,84978,84977,84976,84973,84968,84967,84966,84958,84955,84953,84952,84950,84942,84941,84939,84938,84928,84926,84924,84923,84921,84917,84913,84910,84909,84908,84907,84905,84901,84899,84897,84894,84893,84885,84881,84879,84877,84876,84873,84867,84865,84862,84860,84859,84857,84855,84854,84853,84849,84848,84844,84842,84837,84836,84831,84828,84827,84823,84822,84821,84819,84818,84816,84815,84809,84797,84793,84788,84783,84782,84780,84765,84763,84762,84761,84760,84759,84756,84754,84753,84752,84750,84744,84743,84739,84738,84727,84724,84723,84722,84719,84715,84711,84708,84707,84701,84698,84696,84694,84693,84692,84690,84685,84684,84683,84670,84668,84666,84665,84664,84663,84661,84659,84651,84648,84645,84643,84642,84639,84638,84637,84632,84627,84626,84625,84624,84622,84621,84612,84607,84605,84603,84602,84601,84600,84599,84593,84590,84586,84585,84583,84582,84580,84577,84574,84573,84571,84566,84565,84563,84557,84550,84549,84548,84547,84543,84541,84539,84537,84535,84534,84533,84532,84531,84527,84521,84518,84517,84516,84506,84505,84502,84501,84500,84499,84496,84493,84490,84489,84487,84486,84483,84481,84480,84479,84478,84473,84471,84469,84465,84464,84458,84457,84456,84454,84450,84449,84448,84447,84444,84443,84441,84440,84439,84438,84437,84436,84435,84433,84431,84429,84428,84427,84426,84424,84423,84422,84421,84420,84418,84417,84416,84414,84413,84412,84409,84405,84404,84403,84402,84399,84396,84395,84394,84393,84392,84391,84388,84387,84386,84385,84384,84381,84378,84377,84370,84367,84364,84362,84361,84359,84358,84357,84356,84355,84353,84352]

    teacherIdList = [85310,85299,85444,85565,85589,85644,85670,85671,85674,85676,85686]


    idCount = len(teacherIdList)
    print("老师个数:{}".format(idCount))

    totalSuccess = 0
    totalFailed = 0

    for teacherId in teacherIdList:
        try:
            res = freeze_teacher_admin(teacherId)
            if res['stat'] == 1 and res['msg'] == "OK" :
                totalSuccess += 1
            else:
                totalFailed += 1
        except Exception as e:
            totalFailed += 1
            res = "参数:{}, err:{}".format(teacherId, e)
            print(res)

        print("冻结老师:{}, 结果:{}, 进度：{}/{}".format(teacherId, res, totalSuccess + totalFailed, idCount))

        time.sleep(0.01)

    print("冻结老师个数:{}, 成功数:{}, 失败数:{}".format(idCount, totalSuccess, totalFailed))


def freeze_teacher_admin(teacherId):
    import requests

    cookies = {
        'tfstk': 'f7Mxt_4am3IYkKdihmOo7cl9JNKkKxn4yqoCIP4c143-0Dh01txq6Ynsv5M0nm08f4iKnVmjSVQto44jWc-4fPgsWPcDZpmq0Ry6-VpHKmuyFinxHR_iVxTHbKTHKpmjSR2rgexwc6Zb7lw_cS6XF3ETbRZfCVa7NkZhlRws50t8mlQ11tZbFzZpz7Xz7CahBYX-u3Z5mr61CYpaMynfsO6seoFxcma-DmH8DSULZqguevnIcvrtQH1TWDljouu9pUeSHqHbwRpOU-mKNqF-MFB8abiEC7hyJ6oEcqhQOx9JV7Hqx-a-QhWaljmsI5HXRG4j3qD8TA7vrPcnqxN-RUX-75hjO-M9JLsz8vDLExb3JlfX23CN_SZo0JZ3bbwSF-r8-30f_1PRTuUH2I1N_SZz2yxuU15aw65..',
        'wx': 'b3effd5f620d1ec62dff7406bd98cb60mqs9f9mxbx',
    }

    headers = {
        'accept': 'application/json, text/plain, */*',
        'accept-language': 'zh-CN,zh;q=0.9',
        'content-type': 'application/x-www-form-urlencoded',
        # 'cookie': 'tfstk=f7Mxt_4am3IYkKdihmOo7cl9JNKkKxn4yqoCIP4c143-0Dh01txq6Ynsv5M0nm08f4iKnVmjSVQto44jWc-4fPgsWPcDZpmq0Ry6-VpHKmuyFinxHR_iVxTHbKTHKpmjSR2rgexwc6Zb7lw_cS6XF3ETbRZfCVa7NkZhlRws50t8mlQ11tZbFzZpz7Xz7CahBYX-u3Z5mr61CYpaMynfsO6seoFxcma-DmH8DSULZqguevnIcvrtQH1TWDljouu9pUeSHqHbwRpOU-mKNqF-MFB8abiEC7hyJ6oEcqhQOx9JV7Hqx-a-QhWaljmsI5HXRG4j3qD8TA7vrPcnqxN-RUX-75hjO-M9JLsz8vDLExb3JlfX23CN_SZo0JZ3bbwSF-r8-30f_1PRTuUH2I1N_SZz2yxuU15aw65..; wx=b3effd5f620d1ec62dff7406bd98cb60mqs9f9mxbx',
        'origin': 'https://scm.inner.wen-su.com',
        'priority': 'u=1, i',
        'referer': 'https://scm.inner.wen-su.com/',
        'sec-ch-ua': '"Google Chrome";v="125", "Chromium";v="125", "Not.A/Brand";v="24"',
        'sec-ch-ua-mobile': '?0',
        'sec-ch-ua-platform': '"macOS"',
        'sec-fetch-dest': 'empty',
        'sec-fetch-mode': 'cors',
        'sec-fetch-site': 'same-site',
        'token': 'f079b8d33c4dc0d98d8768b4e998d2ae',
        'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/125.0.0.0 Safari/537.36',
        'x-brand': '100',
    }

    data = {
        'id': teacherId,
        'is_freeze': '2',
        'brand': '100',
    }

    response = requests.post('https://teacheradmin.inner.wen-su.com/Counselor/doFreeze', cookies=cookies, headers=headers, data=data)

    res = response.json()
    response.close()

    return res



def read_csv():
    file_path = "/Users/caoyongfei/workspace/py/pytools/sync_teacher_to_yk/同步班主任-2024-07-23.csv"

    ids = set()

    with open(file_path, newline='') as csvFile:
        reader = csv.DictReader(csvFile)
        for row in reader:
            teacherId = row['班主任id']
            ids.add(str(teacherId))

    return list(ids)


def array_chunk(input_array, chunk_size, preserve_keys=False):
    if chunk_size < 1:
        return []

    chunks = []

    for i in range(0, len(input_array), chunk_size):
        # Get the chunk
        chunk = input_array[i:i + chunk_size]

        # If preserve_keys is True, retain the original keys
        if preserve_keys:
            chunk = {k: input_array[k] for k in range(i, min(i + chunk_size, len(input_array)))}

        # Append the chunk to the list of chunks
        chunks.append(chunk)

    return chunks


if __name__ == '__main__':
    main()